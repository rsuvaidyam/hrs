const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-CX4n5tjg.js","assets/frappe-ui-BBOpUuKL.js","assets/frappe-ui-rGGT9CAt.css"])))=>i.map(i=>d[i]);
var rt=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var nt=(x,g)=>{var f={};for(var a in x)pt.call(x,a)&&g.indexOf(a)<0&&(f[a]=x[a]);if(x!=null&&rt)for(var a of rt(x))g.indexOf(a)<0&&ft.call(x,a)&&(f[a]=x[a]);return f};var lt=(x,g)=>()=>(g||x((g={exports:{}}).exports,g),g.exports);var M=(x,g,f)=>new Promise((a,n)=>{var t=h=>{try{i(f.next(h))}catch(p){n(p)}},c=h=>{try{i(f.throw(h))}catch(p){n(p)}},i=h=>h.done?a(h.value):Promise.resolve(h.value).then(t,c);i((f=f.apply(x,g)).next())});import{_ as V,D as it,a as et,r as I,w as at,b as U,o as q,c as $,d as H,e as dt,f as yt,u as mt,g as gt,h as vt,i as K,j as W,k as X,l as F,m as ot,t as bt,n as wt,p as kt,q as xt,s as Y,v as _t,x as Bt,y as At}from"./frappe-ui-BBOpUuKL.js";var ae=lt(ht=>{(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function f(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(n){if(n.ep)return;n.ep=!0;const t=f(n);fetch(n.href,t)}})();const St={components:{Dialog:it,Button:et},setup(){const x=I(""),g=I([]),f=I(!1),a=I(!1),n=()=>M(this,null,function*(){}),t=()=>{console.log("Confirmed!"),a.value=!1};return at(x,n),{searchValue:x,searchResults:g,searchLoader:f,dialog1:a,handleSearch:n,handleConfirm:t}}},Ct={class:"w-3/5 md:w-3/6 relative"};function Et(x,g,f,a,n,t){const c=U("Button"),i=U("Dialog");return q(),$("div",Ct,[H(c,{variant:"outline",theme:"gray",size:"md",label:"Search..",class:"text-start w-96",onClick:g[0]||(g[0]=h=>a.dialog1=!0)}),H(i,{options:{title:"Confirm",message:"Are you sure you want to confirm this action?",size:"xl",actions:[{label:"Confirm",variant:"solid",onClick:a.handleConfirm}]},modelValue:a.dialog1,"onUpdate:modelValue":g[1]||(g[1]=h=>a.dialog1=h)},null,8,["options","modelValue"])])}const Rt=V(St,[["render",Et],["__scopeId","data-v-b4d39837"]]),Nt={components:{TextInput:dt,Button:et,Dialog:it},setup(){const x=I({username:"6201521438",password:"Rahul@123"}),g=I(!1);return{singinpop:g,handleConfirm:()=>{console.log("Confirmed!"),g.value=!1},formValues:x}}},Pt={class:"flex flex-col justify-around h-full"};function Ot(x,g,f,a,n,t){const c=U("Button"),i=U("Dialog");return q(),$("div",Pt,[H(c,{variant:"outline",theme:"gray",size:"md",label:"SingIn",onClick:g[0]||(g[0]=h=>a.singinpop=!0)}),H(i,{options:{title:"Confirm",message:"Are you sure you want to confirm this action?",size:"xl",actions:[{label:"Confirm",variant:"solid",onClick:a.handleConfirm}]},modelValue:a.singinpop,"onUpdate:modelValue":g[1]||(g[1]=h=>a.singinpop=h)},null,8,["options","modelValue"])])}const Tt=V(Nt,[["render",Ot],["__scopeId","data-v-e68c7369"]]),Dt={components:{Button:et,GlobalSearch:Rt,SingIn:Tt,Dropdown:yt},setup(){const x=I(0),g=I(!1),f=I(!1),a=I(JSON.parse(sessionStorage.getItem("userDetails")||"{}")),n=mt(),t=()=>{sessionStorage.clear(),g.value=!g.value},c=()=>{f.value=!f.value};at(g,()=>M(this,null,function*(){try{const y=yield(yield fetch("/your-api-endpoint")).json();x.value=(y==null?void 0:y.count)||0}catch(p){console.error(p),x.value=0}}),{immediate:!0}),gt(()=>{a.value=JSON.parse(sessionStorage.getItem("userDetails")||"{}")});const h=vt(()=>{var p,y;return(y=(p=a.value)==null?void 0:p.name)==null?void 0:y.split(" ")[0]});return{count:x,signOut:t,toggleLogin:c,userDetails:a,route:n,firstName:h}}},jt={class:"w-full fixed top-0 h-12 md:h-14 z-40 bg-gray-200 shadow-sm"},Lt={class:"px-3 md:px-8 flex justify-between items-center h-full max-w-[1600px] mx-auto w-full"},qt={class:"flex items-center gap-3 md:gap-6"},It={key:0,class:"w-4 h-4 rounded-full absolute -top-1 -right-2 flex items-center justify-center bg-primary text-xs font-bold text-white"};function Ut(x,g,f,a,n,t){var m,l,o,s,r;const c=U("router-link"),i=U("GlobalSearch"),h=U("Button"),p=U("Dropdown"),y=U("SingIn");return q(),$("div",jt,[K("div",Lt,[H(c,{to:"/",class:"text-xl font-medium text-secondary cursor-pointer"},{default:W(()=>[ot("HRS")]),_:1}),H(i),K("div",qt,[((m=a.userDetails)==null?void 0:m.role)!=="SELLER"?(q(),X(c,{key:0,to:"/becomeseller",class:"border hidden md:block px-3 py-[7px] font-medium text-sm hover:bg-primary hover:text-white transition-all truncate"},{default:W(()=>[H(h,{variant:"outline",theme:"gray",size:"md",label:"BECOME A SELLER"})]),_:1})):F("",!0),((l=a.userDetails)==null?void 0:l.role)==="SELLER"||((o=a.userDetails)==null?void 0:o.role)==="ADMIN"?(q(),X(c,{key:1,to:"/dashboard",class:"border px-5 py-[7px] font-medium text-sm hidden md:block bg-white hover:bg-primary hover:text-white transition-all"},{default:W(()=>[ot(" Dashboard ")]),_:1})):F("",!0),(s=a.userDetails)!=null&&s.name?(q(),X(p,{key:2,options:[{label:"Profile",onClick:()=>{}},{label:"Logout",onClick:()=>{}}],button:{label:(r=a.userDetails)==null?void 0:r.name,variant:"outline",theme:"gray",size:"md"}},null,8,["button"])):(q(),X(y,{key:3})),a.route.path!=="/cart"?(q(),X(c,{key:4,to:"/cart",class:"order-1 md:order-2 relative"},{default:W(()=>[a.count>=1?(q(),$("span",It,bt(a.count),1)):F("",!0)]),_:1})):F("",!0)])])])}const Mt=V(Dt,[["render",Ut],["__scopeId","data-v-a94e339b"]]),Ht={inject:["$auth"],components:{Navbar:Mt}};function $t(x,g,f,a,n,t){const c=U("Navbar");return q(),$("div",null,[t.$auth.isLoggedIn?(q(),$("button",{key:0,onClick:g[0]||(g[0]=i=>t.$auth.logout())},"Logout")):F("",!0),H(c)])}const zt=V(Ht,[["render",$t]]),Xt={resources:{ping(){return{method:"frappe.ping",onSuccess(x){alert(x)}}}}},Ft=K("h1",null,"Home Page",-1);function Vt(x,g,f,a,n,t){return q(),$("div",null,[Ft,K("button",{class:"bg-blue-500",onClick:g[0]||(g[0]=c=>x.$resources.ping.fetch())},"Ping")])}const Jt=V(Xt,[["render",Vt]]),Wt=[{path:"/login",name:"Login",component:()=>wt(()=>import("./Login-CX4n5tjg.js"),__vite__mapDeps([0,1,2])),meta:{isLoginPage:!0},props:!0}],Kt=[{path:"/",name:"Home",component:Jt},...Wt],G=kt({history:xt("/hrs"),routes:Kt});function Q(x,g){return M(this,null,function*(){g||(g={});let f={Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Frappe-Site-Name":window.location.hostname};window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(f["X-Frappe-CSRF-Token"]=window.csrf_token),n(this,"RequestStarted",null);const a=yield fetch(`/api/method/${x}`,{method:"POST",headers:f,body:JSON.stringify(g)});if(a.ok){n(this,null,null);const t=yield a.json();return t.docs||x==="login"?t:t.message}else{let t=yield a.text(),c,i;try{c=JSON.parse(t)}catch(y){}let h=[[x,c.exc_type,c._error_message].filter(Boolean).join(" ")];if(c.exc){i=c.exc;try{i=JSON.parse(i)[0]}catch(y){}h.push(i)}let p=new Error(h.join(`
`));throw p.exc_type=c.exc_type,p.exc=i,p.messages=c._server_messages?JSON.parse(c._server_messages):[],p.messages=p.messages.concat(c.message),p.messages=p.messages.map(y=>{try{return JSON.parse(y).message}catch(m){return y}}),p.messages=p.messages.filter(Boolean),p.messages.length||(p.messages=c._error_message?[c._error_message]:["Internal Server Error"]),n(this,null,p.messages.join(`
`)),[401,403].includes(a.status)&&G.currentRoute.name!=="Login"&&G.push("/login"),p}function n(t,c,i){(t==null?void 0:t.state)!==void 0&&(t.state=c),(t==null?void 0:t.errorMessage)!==void 0&&(t.errorMessage=i)}})}class Yt{constructor(g,f){this._vm=g,this._watchers=[];let a=Y({});for(let n in f){let t=f[n];if(typeof t=="function")this._watchers.push([()=>t.call(g),(c,i)=>this.updateResource(n,c,i),{immediate:!0,deep:!0,flush:"sync"}]);else{let c=new st(g,t);a[n]=I(c),c.auto&&c.reload()}}this.resources=a}init(){this._watchers=this._watchers.map(g=>this._vm.$watch(...g))}destroy(){const g=this._vm;delete g._rm}updateResource(g,f,a){let n;g in this.resources?n=this.resources[g]:(n=Y(new st(this._vm,f)),this.resources[g]=n);let t=n.data;a&&n&&n.cancel(),n.update(f),n.keepData&&(n.data=t),n.auto&&n.reload()}}class st{constructor(g,f={}){if(typeof f=="string"&&(f={method:f,auto:!0}),!f.method)throw new Error("[Resource Manager]: method is required to define a resource");this._vm=g,this.method=f.method,this.delay=f.delay||0,this.update(f)}update(g){if(typeof g=="string"&&(g={method:g,auto:!0}),this.method&&g.method&&g.method!==this.method)throw new Error("[Resource Manager]: method cannot change for the same resource");this.options=g,this.params=g.params||null,this.auto=g.auto||!1,this.keepData=g.keepData||!1,this.condition=g.condition||(()=>!0),this.paged=g.paged||!1,this.validate=g.validate||null,this.validate&&(this.validate=this.validate.bind(this._vm)),this.listeners=Object.create(null),this.onceListeners=Object.create(null);let f=Object.keys(g).filter(a=>a.startsWith("on"));if(f.length>0)for(const a of f)this.on(a,g[a]);this.reset()}fetch(g){return M(this,null,function*(){if(this.condition()){if(this.loading=!0,this.currentParams=g||this.params,this.validate){let f=yield this.validate();if(f){this.setError(f),this.loading=!1;return}}try{let f=yield Q(this.method,this.currentParams);this.delay&&(yield new Promise(a=>setTimeout(a,this.delay*1e3))),Array.isArray(f)&&this.paged?(this.lastPageEmpty=f.length===0,this.data=[].concat(this.data||[],f)):this.data=f,this.emit("Success",this.data)}catch(f){let a=f.messages||["Internal Server Error"];this.setError(a.join(`
`))}this.lastLoaded=new Date,this.loading=!1,this.currentParams=null}})}reload(){return this.fetch()}submit(g){return this.fetch(g)}reset(){this.data=this.options.default||null,this.error=null,this.loading=!1,this.lastLoaded=null,this.lastPageEmpty=!1,this.currentParams=null}cancel(){}setError(g){this.error=g,this.emit("Error",this.error)}on(g,f){return this.listeners[g]=(this.listeners[g]||[]).concat(f),this}once(g,f){return this.onceListeners[g]=(this.onceListeners[g]||[]).concat(f),this}emit(g,...f){let a="on"+g,n=this._vm;(this.listeners[a]||[]).forEach(c=>{t(c)}),(this.onceListeners[a]||[]).forEach(c=>{t(c),this.onceListeners[a].splice(this.onceListeners[a].indexOf(c),1)});function t(c){try{c.call(n,...f)}catch(i){console.error(i)}}}}let Gt={beforeCreate(){const x=this.$options;if(!x.resources||x._rm)return;let g;if(typeof x.resources=="function"&&(x.resources=x.resources.call(this)),Zt(x.resources)){const f=x.resources,{$options:a}=f,n=nt(f,["$options"]);g=new Yt(this,n)}else throw new Error("[ResourceManager]: resources options should be an object or a function that returns object");Object.prototype.hasOwnProperty.call(this,"$resources")||(this.$resources=Y(g.resources)),Object.keys(x.resources).forEach(a=>{Z(x.computed,a)||Z(x.props,a)||Z(x.methods,a)||(x.computed||(x.computed={}),x.computed[a]=x.resources[a])}),this._rm=g},data(){return this._rm?{$rm:this._rm,$r:this._rm.resources,$resources:this._rm.resources}:{}},created(){this._rm&&this._rm.init()}};function Qt(x){x.mixin(Gt)}function Zt(x){return typeof x=="object"&&x&&Object.prototype.toString(x)==="[object Object]"}function Z(x,g){return g in(x||{})}var ct={exports:{}};/*!
 * Socket.IO v2.5.0
 * (c) 2014-2021 Guillermo Rauch
 * Released under the MIT License.
 */(function(x,g){(function(f,a){x.exports=a()})(_t,function(){return function(f){function a(t){if(n[t])return n[t].exports;var c=n[t]={exports:{},id:t,loaded:!1};return f[t].call(c.exports,c,c.exports,a),c.loaded=!0,c.exports}var n={};return a.m=f,a.c=n,a.p="",a(0)}([function(f,a,n){function t(m,l){(typeof m=="undefined"?"undefined":c(m))==="object"&&(l=m,m=void 0),l=l||{};var o,s=i(m),r=s.source,e=s.id,u=s.path,v=y[e]&&u in y[e].nsps,d=l.forceNew||l["force new connection"]||l.multiplex===!1||v;return d?o=p(r,l):(y[e]||(y[e]=p(r,l)),o=y[e]),s.query&&!l.query&&(l.query=s.query),o.socket(s.path,l)}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},i=n(1),h=n(4),p=n(9);n(3)("socket.io-client"),f.exports=a=t;var y=a.managers={};a.protocol=h.protocol,a.connect=t,a.Manager=n(9),a.Socket=n(34)},function(f,a,n){function t(i,h){var p=i;h=h||typeof location!="undefined"&&location,i==null&&(i=h.protocol+"//"+h.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i=i.charAt(1)==="/"?h.protocol+i:h.host+i),/^(https?|wss?):\/\//.test(i)||(i=typeof h!="undefined"?h.protocol+"//"+i:"https://"+i),p=c(i)),p.port||(/^(http|ws)$/.test(p.protocol)?p.port="80":/^(http|ws)s$/.test(p.protocol)&&(p.port="443")),p.path=p.path||"/";var y=p.host.indexOf(":")!==-1,m=y?"["+p.host+"]":p.host;return p.id=p.protocol+"://"+m+":"+p.port,p.href=p.protocol+"://"+m+(h&&h.port===p.port?"":":"+p.port),p}var c=n(2);n(3)("socket.io-client:url"),f.exports=t},function(f,a){function n(h,p){var y=/\/{2,9}/g,m=p.replace(y,"/").split("/");return p.substr(0,1)!="/"&&p.length!==0||m.splice(0,1),p.substr(p.length-1,1)=="/"&&m.splice(m.length-1,1),m}function t(h,p){var y={};return p.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m,l,o){l&&(y[l]=o)}),y}var c=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];f.exports=function(h){var p=h,y=h.indexOf("["),m=h.indexOf("]");y!=-1&&m!=-1&&(h=h.substring(0,y)+h.substring(y,m).replace(/:/g,";")+h.substring(m,h.length));for(var l=c.exec(h||""),o={},s=14;s--;)o[i[s]]=l[s]||"";return y!=-1&&m!=-1&&(o.source=p,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=n(o,o.path),o.queryKey=t(o,o.query),o}},function(f,a){f.exports=function(){return function(){}}},function(f,a,n){function t(){}function c(d){var w=""+d.type;if(a.BINARY_EVENT!==d.type&&a.BINARY_ACK!==d.type||(w+=d.attachments+"-"),d.nsp&&d.nsp!=="/"&&(w+=d.nsp+","),d.id!=null&&(w+=d.id),d.data!=null){var k=i(d.data);if(k===!1)return v;w+=k}return w}function i(d){try{return JSON.stringify(d)}catch(w){return!1}}function h(d,w){function k(B){var C=r.deconstructPacket(B),b=c(C.packet),_=C.buffers;_.unshift(b),w(_)}r.removeBlobs(d,k)}function p(){this.reconstructor=null}function y(d){var w=0,k={type:Number(d.charAt(0))};if(a.types[k.type]==null)return o("unknown packet type "+k.type);if(a.BINARY_EVENT===k.type||a.BINARY_ACK===k.type){for(var B="";d.charAt(++w)!=="-"&&(B+=d.charAt(w),w!=d.length););if(B!=Number(B)||d.charAt(w)!=="-")throw new Error("Illegal attachments");k.attachments=Number(B)}if(d.charAt(w+1)==="/")for(k.nsp="";++w;){var C=d.charAt(w);if(C===","||(k.nsp+=C,w===d.length))break}else k.nsp="/";var b=d.charAt(w+1);if(b!==""&&Number(b)==b){for(k.id="";++w;){var C=d.charAt(w);if(C==null||Number(C)!=C){--w;break}if(k.id+=d.charAt(w),w===d.length)break}k.id=Number(k.id)}if(d.charAt(++w)){var _=m(d.substr(w)),A=_!==!1&&(k.type===a.ERROR||e(_));if(!A)return o("invalid payload");k.data=_}return k}function m(d){try{return JSON.parse(d)}catch(w){return!1}}function l(d){this.reconPack=d,this.buffers=[]}function o(d){return{type:a.ERROR,data:"parser error: "+d}}var s=(n(3)("socket.io-parser"),n(5)),r=n(6),e=n(7),u=n(8);a.protocol=4,a.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],a.CONNECT=0,a.DISCONNECT=1,a.EVENT=2,a.ACK=3,a.ERROR=4,a.BINARY_EVENT=5,a.BINARY_ACK=6,a.Encoder=t,a.Decoder=p;var v=a.ERROR+'"encode error"';t.prototype.encode=function(d,w){if(a.BINARY_EVENT===d.type||a.BINARY_ACK===d.type)h(d,w);else{var k=c(d);w([k])}},s(p.prototype),p.prototype.add=function(d){var w;if(typeof d=="string")w=y(d),a.BINARY_EVENT===w.type||a.BINARY_ACK===w.type?(this.reconstructor=new l(w),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",w)):this.emit("decoded",w);else{if(!u(d)&&!d.base64)throw new Error("Unknown type: "+d);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");w=this.reconstructor.takeBinaryData(d),w&&(this.reconstructor=null,this.emit("decoded",w))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(d){if(this.buffers.push(d),this.buffers.length===this.reconPack.attachments){var w=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),w}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(f,a,n){function t(i){if(i)return c(i)}function c(i){for(var h in t.prototype)i[h]=t.prototype[h];return i}f.exports=t,t.prototype.on=t.prototype.addEventListener=function(i,h){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(h),this},t.prototype.once=function(i,h){function p(){this.off(i,p),h.apply(this,arguments)}return p.fn=h,this.on(i,p),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(i,h){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var p=this._callbacks["$"+i];if(!p)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var y,m=0;m<p.length;m++)if(y=p[m],y===h||y.fn===h){p.splice(m,1);break}return p.length===0&&delete this._callbacks["$"+i],this},t.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var h=new Array(arguments.length-1),p=this._callbacks["$"+i],y=1;y<arguments.length;y++)h[y-1]=arguments[y];if(p){p=p.slice(0);for(var y=0,m=p.length;y<m;++y)p[y].apply(this,h)}return this},t.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},t.prototype.hasListeners=function(i){return!!this.listeners(i).length}},function(f,a,n){function t(l,o){if(!l)return l;if(h(l)){var s={_placeholder:!0,num:o.length};return o.push(l),s}if(i(l)){for(var r=new Array(l.length),e=0;e<l.length;e++)r[e]=t(l[e],o);return r}if(typeof l=="object"&&!(l instanceof Date)){var r={};for(var u in l)r[u]=t(l[u],o);return r}return l}function c(l,o){if(!l)return l;if(l&&l._placeholder)return o[l.num];if(i(l))for(var s=0;s<l.length;s++)l[s]=c(l[s],o);else if(typeof l=="object")for(var r in l)l[r]=c(l[r],o);return l}var i=n(7),h=n(8),p=Object.prototype.toString,y=typeof Blob=="function"||typeof Blob!="undefined"&&p.call(Blob)==="[object BlobConstructor]",m=typeof File=="function"||typeof File!="undefined"&&p.call(File)==="[object FileConstructor]";a.deconstructPacket=function(l){var o=[],s=l.data,r=l;return r.data=t(s,o),r.attachments=o.length,{packet:r,buffers:o}},a.reconstructPacket=function(l,o){return l.data=c(l.data,o),l.attachments=void 0,l},a.removeBlobs=function(l,o){function s(u,v,d){if(!u)return u;if(y&&u instanceof Blob||m&&u instanceof File){r++;var w=new FileReader;w.onload=function(){d?d[v]=this.result:e=this.result,--r||o(e)},w.readAsArrayBuffer(u)}else if(i(u))for(var k=0;k<u.length;k++)s(u[k],k,u);else if(typeof u=="object"&&!h(u))for(var B in u)s(u[B],B,u)}var r=0,e=l;s(e),r||o(e)}},function(f,a){var n={}.toString;f.exports=Array.isArray||function(t){return n.call(t)=="[object Array]"}},function(f,a){function n(h){return t&&Buffer.isBuffer(h)||c&&(h instanceof ArrayBuffer||i(h))}f.exports=n;var t=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",c=typeof ArrayBuffer=="function",i=function(h){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(h):h.buffer instanceof ArrayBuffer}},function(f,a,n){function t(e,u){if(!(this instanceof t))return new t(e,u);e&&(typeof e=="undefined"?"undefined":c(e))==="object"&&(u=e,e=void 0),u=u||{},u.path=u.path||"/socket.io",this.nsps={},this.subs=[],this.opts=u,this.reconnection(u.reconnection!==!1),this.reconnectionAttempts(u.reconnectionAttempts||1/0),this.reconnectionDelay(u.reconnectionDelay||1e3),this.reconnectionDelayMax(u.reconnectionDelayMax||5e3),this.randomizationFactor(u.randomizationFactor||.5),this.backoff=new s({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(u.timeout==null?2e4:u.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var v=u.parser||y;this.encoder=new v.Encoder,this.decoder=new v.Decoder,this.autoConnect=u.autoConnect!==!1,this.autoConnect&&this.open()}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(10),h=n(34),p=n(5),y=n(4),m=n(36),l=n(37),o=(n(3)("socket.io-client:manager"),n(33)),s=n(38),r=Object.prototype.hasOwnProperty;f.exports=t,t.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)r.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},t.prototype.updateSocketIds=function(){for(var e in this.nsps)r.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},t.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id},p(t.prototype),t.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},t.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},t.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},t.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},t.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},t.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},t.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},t.prototype.open=t.prototype.connect=function(e,u){if(~this.readyState.indexOf("open"))return this;this.engine=i(this.uri,this.opts);var v=this.engine,d=this;this.readyState="opening",this.skipReconnect=!1;var w=m(v,"open",function(){d.onopen(),e&&e()}),k=m(v,"error",function(b){if(d.cleanup(),d.readyState="closed",d.emitAll("connect_error",b),e){var _=new Error("Connection error");_.data=b,e(_)}else d.maybeReconnectOnOpen()});if(this._timeout!==!1){var B=this._timeout;B===0&&w.destroy();var C=setTimeout(function(){w.destroy(),v.close(),v.emit("error","timeout"),d.emitAll("connect_timeout",B)},B);this.subs.push({destroy:function(){clearTimeout(C)}})}return this.subs.push(w),this.subs.push(k),this},t.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(m(e,"data",l(this,"ondata"))),this.subs.push(m(e,"ping",l(this,"onping"))),this.subs.push(m(e,"pong",l(this,"onpong"))),this.subs.push(m(e,"error",l(this,"onerror"))),this.subs.push(m(e,"close",l(this,"onclose"))),this.subs.push(m(this.decoder,"decoded",l(this,"ondecoded")))},t.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},t.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},t.prototype.ondata=function(e){this.decoder.add(e)},t.prototype.ondecoded=function(e){this.emit("packet",e)},t.prototype.onerror=function(e){this.emitAll("error",e)},t.prototype.socket=function(e,u){function v(){~o(w.connecting,d)||w.connecting.push(d)}var d=this.nsps[e];if(!d){d=new h(this,e,u),this.nsps[e]=d;var w=this;d.on("connecting",v),d.on("connect",function(){d.id=w.generateId(e)}),this.autoConnect&&v()}return d},t.prototype.destroy=function(e){var u=o(this.connecting,e);~u&&this.connecting.splice(u,1),this.connecting.length||this.close()},t.prototype.packet=function(e){var u=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),u.encoding?u.packetBuffer.push(e):(u.encoding=!0,this.encoder.encode(e,function(v){for(var d=0;d<v.length;d++)u.engine.write(v[d],e.options);u.encoding=!1,u.processPacketQueue()}))},t.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},t.prototype.cleanup=function(){for(var e=this.subs.length,u=0;u<e;u++){var v=this.subs.shift();v.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},t.prototype.close=t.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},t.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},t.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var u=this.backoff.duration();this.reconnecting=!0;var v=setTimeout(function(){e.skipReconnect||(e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(d){d?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",d.data)):e.onreconnect()}))},u);this.subs.push({destroy:function(){clearTimeout(v)}})}},t.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(f,a,n){f.exports=n(11),f.exports.parser=n(19)},function(f,a,n){function t(o,s){return this instanceof t?(s=s||{},o&&typeof o=="object"&&(s=o,o=null),o?(o=m(o),s.hostname=o.host,s.secure=o.protocol==="https"||o.protocol==="wss",s.port=o.port,o.query&&(s.query=o.query)):s.host&&(s.hostname=m(s.host).host),this.secure=s.secure!=null?s.secure:typeof location!="undefined"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.agent=s.agent||!1,this.hostname=s.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=s.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.query=s.query||{},typeof this.query=="string"&&(this.query=l.decode(this.query)),this.upgrade=s.upgrade!==!1,this.path=(s.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!s.forceJSONP,this.jsonp=s.jsonp!==!1,this.forceBase64=!!s.forceBase64,this.enablesXDR=!!s.enablesXDR,this.withCredentials=s.withCredentials!==!1,this.timestampParam=s.timestampParam||"t",this.timestampRequests=s.timestampRequests,this.transports=s.transports||["polling","websocket"],this.transportOptions=s.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=s.policyPort||843,this.rememberUpgrade=s.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=s.onlyBinaryUpgrades,this.perMessageDeflate=s.perMessageDeflate!==!1&&(s.perMessageDeflate||{}),this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=s.pfx||null,this.key=s.key||null,this.passphrase=s.passphrase||null,this.cert=s.cert||null,this.ca=s.ca||null,this.ciphers=s.ciphers||null,this.rejectUnauthorized=s.rejectUnauthorized===void 0||s.rejectUnauthorized,this.forceNode=!!s.forceNode,this.isReactNative=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self=="undefined"||this.isReactNative)&&(s.extraHeaders&&Object.keys(s.extraHeaders).length>0&&(this.extraHeaders=s.extraHeaders),s.localAddress&&(this.localAddress=s.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new t(o,s)}function c(o){var s={};for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r]);return s}var i=n(12),h=n(5),p=(n(3)("engine.io-client:socket"),n(33)),y=n(19),m=n(2),l=n(27);f.exports=t,t.priorWebsocketSuccess=!1,h(t.prototype),t.protocol=y.protocol,t.Socket=t,t.Transport=n(18),t.transports=n(12),t.parser=n(19),t.prototype.createTransport=function(o){var s=c(this.query);s.EIO=y.protocol,s.transport=o;var r=this.transportOptions[o]||{};this.id&&(s.sid=this.id);var e=new i[o]({query:s,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return e},t.prototype.open=function(){var o;if(this.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)o="websocket";else{if(this.transports.length===0){var s=this;return void setTimeout(function(){s.emit("error","No transports available")},0)}o=this.transports[0]}this.readyState="opening";try{o=this.createTransport(o)}catch(r){return this.transports.shift(),void this.open()}o.open(),this.setTransport(o)},t.prototype.setTransport=function(o){var s=this;this.transport&&this.transport.removeAllListeners(),this.transport=o,o.on("drain",function(){s.onDrain()}).on("packet",function(r){s.onPacket(r)}).on("error",function(r){s.onError(r)}).on("close",function(){s.onClose("transport close")})},t.prototype.probe=function(o){function s(){if(C.onlyBinaryUpgrades){var b=!this.supportsBinary&&C.transport.supportsBinary;B=B||b}B||(k.send([{type:"ping",data:"probe"}]),k.once("packet",function(_){if(!B)if(_.type==="pong"&&_.data==="probe"){if(C.upgrading=!0,C.emit("upgrading",k),!k)return;t.priorWebsocketSuccess=k.name==="websocket",C.transport.pause(function(){B||C.readyState!=="closed"&&(w(),C.setTransport(k),k.send([{type:"upgrade"}]),C.emit("upgrade",k),k=null,C.upgrading=!1,C.flush())})}else{var A=new Error("probe error");A.transport=k.name,C.emit("upgradeError",A)}}))}function r(){B||(B=!0,w(),k.close(),k=null)}function e(b){var _=new Error("probe error: "+b);_.transport=k.name,r(),C.emit("upgradeError",_)}function u(){e("transport closed")}function v(){e("socket closed")}function d(b){k&&b.name!==k.name&&r()}function w(){k.removeListener("open",s),k.removeListener("error",e),k.removeListener("close",u),C.removeListener("close",v),C.removeListener("upgrading",d)}var k=this.createTransport(o,{probe:1}),B=!1,C=this;t.priorWebsocketSuccess=!1,k.once("open",s),k.once("error",e),k.once("close",u),this.once("close",v),this.once("upgrading",d),k.open()},t.prototype.onOpen=function(){if(this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause)for(var o=0,s=this.upgrades.length;o<s;o++)this.probe(this.upgrades[o])},t.prototype.onPacket=function(o){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emit("packet",o),this.emit("heartbeat"),o.type){case"open":this.onHandshake(JSON.parse(o.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var s=new Error("server error");s.code=o.data,this.onError(s);break;case"message":this.emit("data",o.data),this.emit("message",o.data)}},t.prototype.onHandshake=function(o){this.emit("handshake",o),this.id=o.sid,this.transport.query.sid=o.sid,this.upgrades=this.filterUpgrades(o.upgrades),this.pingInterval=o.pingInterval,this.pingTimeout=o.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},t.prototype.onHeartbeat=function(o){clearTimeout(this.pingTimeoutTimer);var s=this;s.pingTimeoutTimer=setTimeout(function(){s.readyState!=="closed"&&s.onClose("ping timeout")},o||s.pingInterval+s.pingTimeout)},t.prototype.setPing=function(){var o=this;clearTimeout(o.pingIntervalTimer),o.pingIntervalTimer=setTimeout(function(){o.ping(),o.onHeartbeat(o.pingTimeout)},o.pingInterval)},t.prototype.ping=function(){var o=this;this.sendPacket("ping",function(){o.emit("ping")})},t.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},t.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},t.prototype.write=t.prototype.send=function(o,s,r){return this.sendPacket("message",o,s,r),this},t.prototype.sendPacket=function(o,s,r,e){if(typeof s=="function"&&(e=s,s=void 0),typeof r=="function"&&(e=r,r=null),this.readyState!=="closing"&&this.readyState!=="closed"){r=r||{},r.compress=r.compress!==!1;var u={type:o,data:s,options:r};this.emit("packetCreate",u),this.writeBuffer.push(u),e&&this.once("flush",e),this.flush()}},t.prototype.close=function(){function o(){e.onClose("forced close"),e.transport.close()}function s(){e.removeListener("upgrade",s),e.removeListener("upgradeError",s),o()}function r(){e.once("upgrade",s),e.once("upgradeError",s)}if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():o()}):this.upgrading?r():o()}return this},t.prototype.onError=function(o){t.priorWebsocketSuccess=!1,this.emit("error",o),this.onClose("transport error",o)},t.prototype.onClose=function(o,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",o,s),r.writeBuffer=[],r.prevBufferLen=0}},t.prototype.filterUpgrades=function(o){for(var s=[],r=0,e=o.length;r<e;r++)~p(this.transports,o[r])&&s.push(o[r]);return s}},function(f,a,n){function t(y){var m,l=!1,o=!1,s=y.jsonp!==!1;if(typeof location!="undefined"){var r=location.protocol==="https:",e=location.port;e||(e=r?443:80),l=y.hostname!==location.hostname||e!==y.port,o=y.secure!==r}if(y.xdomain=l,y.xscheme=o,m=new c(y),"open"in m&&!y.forceJSONP)return new i(y);if(!s)throw new Error("JSONP disabled");return new h(y)}var c=n(13),i=n(16),h=n(30),p=n(31);a.polling=t,a.websocket=p},function(f,a,n){var t=n(14),c=n(15);f.exports=function(i){var h=i.xdomain,p=i.xscheme,y=i.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!h||t))return new XMLHttpRequest}catch(m){}try{if(typeof XDomainRequest!="undefined"&&!p&&y)return new XDomainRequest}catch(m){}if(!h)try{return new c[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(m){}}},function(f,a){try{f.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(n){f.exports=!1}},function(f,a){f.exports=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}()},function(f,a,n){function t(){}function c(r){if(y.call(this,r),this.requestTimeout=r.requestTimeout,this.extraHeaders=r.extraHeaders,typeof location!="undefined"){var e=location.protocol==="https:",u=location.port;u||(u=e?443:80),this.xd=typeof location!="undefined"&&r.hostname!==location.hostname||u!==r.port,this.xs=r.secure!==e}}function i(r){this.method=r.method||"GET",this.uri=r.uri,this.xd=!!r.xd,this.xs=!!r.xs,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.agent=r.agent,this.isBinary=r.isBinary,this.supportsBinary=r.supportsBinary,this.enablesXDR=r.enablesXDR,this.withCredentials=r.withCredentials,this.requestTimeout=r.requestTimeout,this.pfx=r.pfx,this.key=r.key,this.passphrase=r.passphrase,this.cert=r.cert,this.ca=r.ca,this.ciphers=r.ciphers,this.rejectUnauthorized=r.rejectUnauthorized,this.extraHeaders=r.extraHeaders,this.create()}function h(){for(var r in i.requests)i.requests.hasOwnProperty(r)&&i.requests[r].abort()}var p=n(13),y=n(17),m=n(5),l=n(28),o=(n(3)("engine.io-client:polling-xhr"),n(15));if(f.exports=c,f.exports.Request=i,l(c,y),c.prototype.supportsBinary=!0,c.prototype.request=function(r){return r=r||{},r.uri=this.uri(),r.xd=this.xd,r.xs=this.xs,r.agent=this.agent||!1,r.supportsBinary=this.supportsBinary,r.enablesXDR=this.enablesXDR,r.withCredentials=this.withCredentials,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,r.requestTimeout=this.requestTimeout,r.extraHeaders=this.extraHeaders,new i(r)},c.prototype.doWrite=function(r,e){var u=typeof r!="string"&&r!==void 0,v=this.request({method:"POST",data:r,isBinary:u}),d=this;v.on("success",e),v.on("error",function(w){d.onError("xhr post error",w)}),this.sendXhr=v},c.prototype.doPoll=function(){var r=this.request(),e=this;r.on("data",function(u){e.onData(u)}),r.on("error",function(u){e.onError("xhr poll error",u)}),this.pollXhr=r},m(i.prototype),i.prototype.create=function(){var r={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new p(r),u=this;try{e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var v in this.extraHeaders)this.extraHeaders.hasOwnProperty(v)&&e.setRequestHeader(v,this.extraHeaders[v])}}catch(d){}if(this.method==="POST")try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(d){}try{e.setRequestHeader("Accept","*/*")}catch(d){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){u.onLoad()},e.onerror=function(){u.onError(e.responseText)}):e.onreadystatechange=function(){if(e.readyState===2)try{var d=e.getResponseHeader("Content-Type");(u.supportsBinary&&d==="application/octet-stream"||d==="application/octet-stream; charset=UTF-8")&&(e.responseType="arraybuffer")}catch(w){}e.readyState===4&&(e.status===200||e.status===1223?u.onLoad():setTimeout(function(){u.onError(typeof e.status=="number"?e.status:0)},0))},e.send(this.data)}catch(d){return void setTimeout(function(){u.onError(d)},0)}typeof document!="undefined"&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(r){this.emit("data",r),this.onSuccess()},i.prototype.onError=function(r){this.emit("error",r),this.cleanup(!0)},i.prototype.cleanup=function(r){if(typeof this.xhr!="undefined"&&this.xhr!==null){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=t:this.xhr.onreadystatechange=t,r)try{this.xhr.abort()}catch(e){}typeof document!="undefined"&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var r;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(u){}r=e==="application/octet-stream"||e==="application/octet-stream; charset=UTF-8"?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(u){this.onError(u)}r!=null&&this.onData(r)},i.prototype.hasXDR=function(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",h);else if(typeof addEventListener=="function"){var s="onpagehide"in o?"pagehide":"unload";addEventListener(s,h,!1)}}},function(f,a,n){function t(l){var o=l&&l.forceBase64;m&&!o||(this.supportsBinary=!1),c.call(this,l)}var c=n(18),i=n(27),h=n(19),p=n(28),y=n(29);n(3)("engine.io-client:polling"),f.exports=t;var m=function(){var l=n(13),o=new l({xdomain:!1});return o.responseType!=null}();p(t,c),t.prototype.name="polling",t.prototype.doOpen=function(){this.poll()},t.prototype.pause=function(l){function o(){s.readyState="paused",l()}var s=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||o()})),this.writable||(r++,this.once("drain",function(){--r||o()}))}else o()},t.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},t.prototype.onData=function(l){var o=this,s=function(r,e,u){return o.readyState==="opening"&&r.type==="open"&&o.onOpen(),r.type==="close"?(o.onClose(),!1):void o.onPacket(r)};h.decodePayload(l,this.socket.binaryType,s),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"&&this.poll())},t.prototype.doClose=function(){function l(){o.write([{type:"close"}])}var o=this;this.readyState==="open"?l():this.once("open",l)},t.prototype.write=function(l){var o=this;this.writable=!1;var s=function(){o.writable=!0,o.emit("drain")};h.encodePayload(l,this.supportsBinary,function(r){o.doWrite(r,s)})},t.prototype.uri=function(){var l=this.query||{},o=this.secure?"https":"http",s="";this.timestampRequests!==!1&&(l[this.timestampParam]=y()),this.supportsBinary||l.sid||(l.b64=1),l=i.encode(l),this.port&&(o==="https"&&Number(this.port)!==443||o==="http"&&Number(this.port)!==80)&&(s=":"+this.port),l.length&&(l="?"+l);var r=this.hostname.indexOf(":")!==-1;return o+"://"+(r?"["+this.hostname+"]":this.hostname)+s+this.path+l}},function(f,a,n){function t(h){this.path=h.path,this.hostname=h.hostname,this.port=h.port,this.secure=h.secure,this.query=h.query,this.timestampParam=h.timestampParam,this.timestampRequests=h.timestampRequests,this.readyState="",this.agent=h.agent||!1,this.socket=h.socket,this.enablesXDR=h.enablesXDR,this.withCredentials=h.withCredentials,this.pfx=h.pfx,this.key=h.key,this.passphrase=h.passphrase,this.cert=h.cert,this.ca=h.ca,this.ciphers=h.ciphers,this.rejectUnauthorized=h.rejectUnauthorized,this.forceNode=h.forceNode,this.isReactNative=h.isReactNative,this.extraHeaders=h.extraHeaders,this.localAddress=h.localAddress}var c=n(19),i=n(5);f.exports=t,i(t.prototype),t.prototype.onError=function(h,p){var y=new Error(h);return y.type="TransportError",y.description=p,this.emit("error",y),this},t.prototype.open=function(){return this.readyState!=="closed"&&this.readyState!==""||(this.readyState="opening",this.doOpen()),this},t.prototype.close=function(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this},t.prototype.send=function(h){if(this.readyState!=="open")throw new Error("Transport not open");this.write(h)},t.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},t.prototype.onData=function(h){var p=c.decodePacket(h,this.socket.binaryType);this.onPacket(p)},t.prototype.onPacket=function(h){this.emit("packet",h)},t.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(f,a,n){function t(b,_){var A="b"+a.packets[b.type]+b.data.data;return _(A)}function c(b,_,A){if(!_)return a.encodeBase64Packet(b,A);var S=b.data,E=new Uint8Array(S),R=new Uint8Array(1+S.byteLength);R[0]=w[b.type];for(var N=0;N<E.length;N++)R[N+1]=E[N];return A(R.buffer)}function i(b,_,A){if(!_)return a.encodeBase64Packet(b,A);var S=new FileReader;return S.onload=function(){a.encodePacket({type:b.type,data:S.result},_,!0,A)},S.readAsArrayBuffer(b.data)}function h(b,_,A){if(!_)return a.encodeBase64Packet(b,A);if(d)return i(b,_,A);var S=new Uint8Array(1);S[0]=w[b.type];var E=new C([S.buffer,b.data]);return A(E)}function p(b){try{b=e.decode(b,{strict:!1})}catch(_){return!1}return b}function y(b,_,A){for(var S=new Array(b.length),E=r(b.length,A),R=function(O,P,T){_(P,function(D,L){S[O]=L,T(D,S)})},N=0;N<b.length;N++)R(N,b[N],E)}var m,l=n(20),o=n(21),s=n(22),r=n(23),e=n(24);typeof ArrayBuffer!="undefined"&&(m=n(25));var u=typeof navigator!="undefined"&&/Android/i.test(navigator.userAgent),v=typeof navigator!="undefined"&&/PhantomJS/i.test(navigator.userAgent),d=u||v;a.protocol=3;var w=a.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},k=l(w),B={type:"error",data:"parser error"},C=n(26);a.encodePacket=function(b,_,A,S){typeof _=="function"&&(S=_,_=!1),typeof A=="function"&&(S=A,A=null);var E=b.data===void 0?void 0:b.data.buffer||b.data;if(typeof ArrayBuffer!="undefined"&&E instanceof ArrayBuffer)return c(b,_,S);if(typeof C!="undefined"&&E instanceof C)return h(b,_,S);if(E&&E.base64)return t(b,S);var R=w[b.type];return b.data!==void 0&&(R+=A?e.encode(String(b.data),{strict:!1}):String(b.data)),S(""+R)},a.encodeBase64Packet=function(b,_){var A="b"+a.packets[b.type];if(typeof C!="undefined"&&b.data instanceof C){var S=new FileReader;return S.onload=function(){var P=S.result.split(",")[1];_(A+P)},S.readAsDataURL(b.data)}var E;try{E=String.fromCharCode.apply(null,new Uint8Array(b.data))}catch(P){for(var R=new Uint8Array(b.data),N=new Array(R.length),O=0;O<R.length;O++)N[O]=R[O];E=String.fromCharCode.apply(null,N)}return A+=btoa(E),_(A)},a.decodePacket=function(b,_,A){if(b===void 0)return B;if(typeof b=="string"){if(b.charAt(0)==="b")return a.decodeBase64Packet(b.substr(1),_);if(A&&(b=p(b),b===!1))return B;var E=b.charAt(0);return Number(E)==E&&k[E]?b.length>1?{type:k[E],data:b.substring(1)}:{type:k[E]}:B}var S=new Uint8Array(b),E=S[0],R=s(b,1);return C&&_==="blob"&&(R=new C([R])),{type:k[E],data:R}},a.decodeBase64Packet=function(b,_){var A=k[b.charAt(0)];if(!m)return{type:A,data:{base64:!0,data:b.substr(1)}};var S=m.decode(b.substr(1));return _==="blob"&&C&&(S=new C([S])),{type:A,data:S}},a.encodePayload=function(b,_,A){function S(N){return N.length+":"+N}function E(N,O){a.encodePacket(N,!!R&&_,!1,function(P){O(null,S(P))})}typeof _=="function"&&(A=_,_=null);var R=o(b);return _&&R?C&&!d?a.encodePayloadAsBlob(b,A):a.encodePayloadAsArrayBuffer(b,A):b.length?void y(b,E,function(N,O){return A(O.join(""))}):A("0:")},a.decodePayload=function(b,_,A){if(typeof b!="string")return a.decodePayloadAsBinary(b,_,A);typeof _=="function"&&(A=_,_=null);var S;if(b==="")return A(B,0,1);for(var E,R,N="",O=0,P=b.length;O<P;O++){var T=b.charAt(O);if(T===":"){if(N===""||N!=(E=Number(N))||(R=b.substr(O+1,E),N!=R.length))return A(B,0,1);if(R.length){if(S=a.decodePacket(R,_,!1),B.type===S.type&&B.data===S.data)return A(B,0,1);var D=A(S,O+E,P);if(D===!1)return}O+=E,N=""}else N+=T}return N!==""?A(B,0,1):void 0},a.encodePayloadAsArrayBuffer=function(b,_){function A(S,E){a.encodePacket(S,!0,!0,function(R){return E(null,R)})}return b.length?void y(b,A,function(S,E){var R=E.reduce(function(P,T){var D;return D=typeof T=="string"?T.length:T.byteLength,P+D.toString().length+D+2},0),N=new Uint8Array(R),O=0;return E.forEach(function(P){var T=typeof P=="string",D=P;if(T){for(var L=new Uint8Array(P.length),j=0;j<P.length;j++)L[j]=P.charCodeAt(j);D=L.buffer}T?N[O++]=0:N[O++]=1;for(var J=D.byteLength.toString(),j=0;j<J.length;j++)N[O++]=parseInt(J[j]);N[O++]=255;for(var L=new Uint8Array(D),j=0;j<L.length;j++)N[O++]=L[j]}),_(N.buffer)}):_(new ArrayBuffer(0))},a.encodePayloadAsBlob=function(b,_){function A(S,E){a.encodePacket(S,!0,!0,function(R){var N=new Uint8Array(1);if(N[0]=1,typeof R=="string"){for(var O=new Uint8Array(R.length),P=0;P<R.length;P++)O[P]=R.charCodeAt(P);R=O.buffer,N[0]=0}for(var T=R instanceof ArrayBuffer?R.byteLength:R.size,D=T.toString(),L=new Uint8Array(D.length+1),P=0;P<D.length;P++)L[P]=parseInt(D[P]);if(L[D.length]=255,C){var j=new C([N.buffer,L.buffer,R]);E(null,j)}})}y(b,A,function(S,E){return _(new C(E))})},a.decodePayloadAsBinary=function(b,_,A){typeof _=="function"&&(A=_,_=null);for(var S=b,E=[];S.byteLength>0;){for(var R=new Uint8Array(S),N=R[0]===0,O="",P=1;R[P]!==255;P++){if(O.length>310)return A(B,0,1);O+=R[P]}S=s(S,2+O.length),O=parseInt(O);var T=s(S,0,O);if(N)try{T=String.fromCharCode.apply(null,new Uint8Array(T))}catch(j){var D=new Uint8Array(T);T="";for(var P=0;P<D.length;P++)T+=String.fromCharCode(D[P])}E.push(T),S=s(S,O)}var L=E.length;E.forEach(function(j,J){A(a.decodePacket(j,_,!0),J,L)})}},function(f,a){f.exports=Object.keys||function(n){var t=[],c=Object.prototype.hasOwnProperty;for(var i in n)c.call(n,i)&&t.push(i);return t}},function(f,a,n){function t(y){if(!y||typeof y!="object")return!1;if(c(y)){for(var m=0,l=y.length;m<l;m++)if(t(y[m]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(y)||typeof ArrayBuffer=="function"&&y instanceof ArrayBuffer||h&&y instanceof Blob||p&&y instanceof File)return!0;if(y.toJSON&&typeof y.toJSON=="function"&&arguments.length===1)return t(y.toJSON(),!0);for(var o in y)if(Object.prototype.hasOwnProperty.call(y,o)&&t(y[o]))return!0;return!1}var c=n(7),i=Object.prototype.toString,h=typeof Blob=="function"||typeof Blob!="undefined"&&i.call(Blob)==="[object BlobConstructor]",p=typeof File=="function"||typeof File!="undefined"&&i.call(File)==="[object FileConstructor]";f.exports=t},function(f,a){f.exports=function(n,t,c){var i=n.byteLength;if(t=t||0,c=c||i,n.slice)return n.slice(t,c);if(t<0&&(t+=i),c<0&&(c+=i),c>i&&(c=i),t>=i||t>=c||i===0)return new ArrayBuffer(0);for(var h=new Uint8Array(n),p=new Uint8Array(c-t),y=t,m=0;y<c;y++,m++)p[m]=h[y];return p.buffer}},function(f,a){function n(c,i,h){function p(m,l){if(p.count<=0)throw new Error("after called too many times");--p.count,m?(y=!0,i(m),i=h):p.count!==0||y||i(null,l)}var y=!1;return h=h||t,p.count=c,c===0?i():p}function t(){}f.exports=n},function(f,a){function n(u){for(var v,d,w=[],k=0,B=u.length;k<B;)v=u.charCodeAt(k++),v>=55296&&v<=56319&&k<B?(d=u.charCodeAt(k++),(64512&d)==56320?w.push(((1023&v)<<10)+(1023&d)+65536):(w.push(v),k--)):w.push(v);return w}function t(u){for(var v,d=u.length,w=-1,k="";++w<d;)v=u[w],v>65535&&(v-=65536,k+=e(v>>>10&1023|55296),v=56320|1023&v),k+=e(v);return k}function c(u,v){if(u>=55296&&u<=57343){if(v)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(u,v){return e(u>>v&63|128)}function h(u,v){if(!(4294967168&u))return e(u);var d="";return 4294965248&u?4294901760&u?!(4292870144&u)&&(d=e(u>>18&7|240),d+=i(u,12),d+=i(u,6)):(c(u,v)||(u=65533),d=e(u>>12&15|224),d+=i(u,6)):d=e(u>>6&31|192),d+=e(63&u|128)}function p(u,v){v=v||{};for(var d,w=v.strict!==!1,k=n(u),B=k.length,C=-1,b="";++C<B;)d=k[C],b+=h(d,w);return b}function y(){if(r>=s)throw Error("Invalid byte index");var u=255&o[r];if(r++,(192&u)==128)return 63&u;throw Error("Invalid continuation byte")}function m(u){var v,d,w,k,B;if(r>s)throw Error("Invalid byte index");if(r==s)return!1;if(v=255&o[r],r++,(128&v)==0)return v;if((224&v)==192){if(d=y(),B=(31&v)<<6|d,B>=128)return B;throw Error("Invalid continuation byte")}if((240&v)==224){if(d=y(),w=y(),B=(15&v)<<12|d<<6|w,B>=2048)return c(B,u)?B:65533;throw Error("Invalid continuation byte")}if((248&v)==240&&(d=y(),w=y(),k=y(),B=(7&v)<<18|d<<12|w<<6|k,B>=65536&&B<=1114111))return B;throw Error("Invalid UTF-8 detected")}function l(u,v){v=v||{};var d=v.strict!==!1;o=n(u),s=o.length,r=0;for(var w,k=[];(w=m(d))!==!1;)k.push(w);return t(k)}/*! https://mths.be/utf8js v2.1.2 by @mathias */var o,s,r,e=String.fromCharCode;f.exports={version:"2.1.2",encode:p,decode:l}},function(f,a){(function(n){a.encode=function(t){var c,i=new Uint8Array(t),h=i.length,p="";for(c=0;c<h;c+=3)p+=n[i[c]>>2],p+=n[(3&i[c])<<4|i[c+1]>>4],p+=n[(15&i[c+1])<<2|i[c+2]>>6],p+=n[63&i[c+2]];return h%3===2?p=p.substring(0,p.length-1)+"=":h%3===1&&(p=p.substring(0,p.length-2)+"=="),p},a.decode=function(t){var c,i,h,p,y,m=.75*t.length,l=t.length,o=0;t[t.length-1]==="="&&(m--,t[t.length-2]==="="&&m--);var s=new ArrayBuffer(m),r=new Uint8Array(s);for(c=0;c<l;c+=4)i=n.indexOf(t[c]),h=n.indexOf(t[c+1]),p=n.indexOf(t[c+2]),y=n.indexOf(t[c+3]),r[o++]=i<<2|h>>4,r[o++]=(15&h)<<4|p>>2,r[o++]=(3&p)<<6|63&y;return s}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(f,a){function n(m){return m.map(function(l){if(l.buffer instanceof ArrayBuffer){var o=l.buffer;if(l.byteLength!==o.byteLength){var s=new Uint8Array(l.byteLength);s.set(new Uint8Array(o,l.byteOffset,l.byteLength)),o=s.buffer}return o}return l})}function t(m,l){l=l||{};var o=new i;return n(m).forEach(function(s){o.append(s)}),l.type?o.getBlob(l.type):o.getBlob()}function c(m,l){return new Blob(n(m),l||{})}var i=typeof i!="undefined"?i:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"&&MozBlobBuilder,h=function(){try{var m=new Blob(["hi"]);return m.size===2}catch(l){return!1}}(),p=h&&function(){try{var m=new Blob([new Uint8Array([1,2])]);return m.size===2}catch(l){return!1}}(),y=i&&i.prototype.append&&i.prototype.getBlob;typeof Blob!="undefined"&&(t.prototype=Blob.prototype,c.prototype=Blob.prototype),f.exports=function(){return h?p?Blob:c:y?t:void 0}()},function(f,a){a.encode=function(n){var t="";for(var c in n)n.hasOwnProperty(c)&&(t.length&&(t+="&"),t+=encodeURIComponent(c)+"="+encodeURIComponent(n[c]));return t},a.decode=function(n){for(var t={},c=n.split("&"),i=0,h=c.length;i<h;i++){var p=c[i].split("=");t[decodeURIComponent(p[0])]=decodeURIComponent(p[1])}return t}},function(f,a){f.exports=function(n,t){var c=function(){};c.prototype=t.prototype,n.prototype=new c,n.prototype.constructor=n}},function(f,a){function n(o){var s="";do s=h[o%p]+s,o=Math.floor(o/p);while(o>0);return s}function t(o){var s=0;for(l=0;l<o.length;l++)s=s*p+y[o.charAt(l)];return s}function c(){var o=n(+new Date);return o!==i?(m=0,i=o):o+"."+n(m++)}for(var i,h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),p=64,y={},m=0,l=0;l<p;l++)y[h[l]]=l;c.encode=n,c.decode=t,f.exports=c},function(f,a,n){function t(){}function c(o){i.call(this,o),this.query=this.query||{},y||(y=p.___eio=p.___eio||[]),this.index=y.length;var s=this;y.push(function(r){s.onData(r)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){s.script&&(s.script.onerror=t)},!1)}var i=n(17),h=n(28),p=n(15);f.exports=c;var y,m=/\n/g,l=/\\n/g;h(c,i),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},c.prototype.doPoll=function(){var o=this,s=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),s.async=!0,s.src=this.uri(),s.onerror=function(u){o.onError("jsonp poll error",u)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(s,r):(document.head||document.body).appendChild(s),this.script=s;var e=typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent);e&&setTimeout(function(){var u=document.createElement("iframe");document.body.appendChild(u),document.body.removeChild(u)},100)},c.prototype.doWrite=function(o,s){function r(){e(),s()}function e(){if(u.iframe)try{u.form.removeChild(u.iframe)}catch(C){u.onError("jsonp polling iframe removal error",C)}try{var B='<iframe src="javascript:0" name="'+u.iframeId+'">';v=document.createElement(B)}catch(C){v=document.createElement("iframe"),v.name=u.iframeId,v.src="javascript:0"}v.id=u.iframeId,u.form.appendChild(v),u.iframe=v}var u=this;if(!this.form){var v,d=document.createElement("form"),w=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;d.className="socketio",d.style.position="absolute",d.style.top="-1000px",d.style.left="-1000px",d.target=k,d.method="POST",d.setAttribute("accept-charset","utf-8"),w.name="d",d.appendChild(w),document.body.appendChild(d),this.form=d,this.area=w}this.form.action=this.uri(),e(),o=o.replace(l,`\\
`),this.area.value=o.replace(m,"\\n");try{this.form.submit()}catch(B){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){u.iframe.readyState==="complete"&&r()}:this.iframe.onload=r}},function(f,a,n){function t(s){var r=s&&s.forceBase64;r&&(this.supportsBinary=!1),this.perMessageDeflate=s.perMessageDeflate,this.usingBrowserWebSocket=c&&!s.forceNode,this.protocols=s.protocols,this.usingBrowserWebSocket||(o=i),h.call(this,s)}var c,i,h=n(18),p=n(19),y=n(27),m=n(28),l=n(29);if(n(3)("engine.io-client:websocket"),typeof WebSocket!="undefined"?c=WebSocket:typeof self!="undefined"&&(c=self.WebSocket||self.MozWebSocket),typeof window=="undefined")try{i=n(32)}catch(s){}var o=c||i;f.exports=t,m(t,h),t.prototype.name="websocket",t.prototype.supportsBinary=!0,t.prototype.doOpen=function(){if(this.check()){var s=this.uri(),r=this.protocols,e={};this.isReactNative||(e.agent=this.agent,e.perMessageDeflate=this.perMessageDeflate,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(e.headers=this.extraHeaders),this.localAddress&&(e.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?r?new o(s,r):new o(s):new o(s,r,e)}catch(u){return this.emit("error",u)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},t.prototype.addEventListeners=function(){var s=this;this.ws.onopen=function(){s.onOpen()},this.ws.onclose=function(){s.onClose()},this.ws.onmessage=function(r){s.onData(r.data)},this.ws.onerror=function(r){s.onError("websocket error",r)}},t.prototype.write=function(s){function r(){e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0)}var e=this;this.writable=!1;for(var u=s.length,v=0,d=u;v<d;v++)(function(w){p.encodePacket(w,e.supportsBinary,function(k){if(!e.usingBrowserWebSocket){var B={};if(w.options&&(B.compress=w.options.compress),e.perMessageDeflate){var C=typeof k=="string"?Buffer.byteLength(k):k.length;C<e.perMessageDeflate.threshold&&(B.compress=!1)}}try{e.usingBrowserWebSocket?e.ws.send(k):e.ws.send(k,B)}catch(b){}--u||r()})})(s[v])},t.prototype.onClose=function(){h.prototype.onClose.call(this)},t.prototype.doClose=function(){typeof this.ws!="undefined"&&this.ws.close()},t.prototype.uri=function(){var s=this.query||{},r=this.secure?"wss":"ws",e="";this.port&&(r==="wss"&&Number(this.port)!==443||r==="ws"&&Number(this.port)!==80)&&(e=":"+this.port),this.timestampRequests&&(s[this.timestampParam]=l()),this.supportsBinary||(s.b64=1),s=y.encode(s),s.length&&(s="?"+s);var u=this.hostname.indexOf(":")!==-1;return r+"://"+(u?"["+this.hostname+"]":this.hostname)+e+this.path+s},t.prototype.check=function(){return!(!o||"__initialize"in o&&this.name===t.prototype.name)}},function(f,a){},function(f,a){var n=[].indexOf;f.exports=function(t,c){if(n)return t.indexOf(c);for(var i=0;i<t.length;++i)if(t[i]===c)return i;return-1}},function(f,a,n){function t(e,u,v){this.io=e,this.nsp=u,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},v&&v.query&&(this.query=v.query),this.io.autoConnect&&this.open()}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(4),h=n(5),p=n(35),y=n(36),m=n(37),l=(n(3)("socket.io-client:socket"),n(27)),o=n(21);f.exports=t;var s={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},r=h.prototype.emit;h(t.prototype),t.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[y(e,"open",m(this,"onopen")),y(e,"packet",m(this,"onpacket")),y(e,"close",m(this,"onclose"))]}},t.prototype.open=t.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},t.prototype.send=function(){var e=p(arguments);return e.unshift("message"),this.emit.apply(this,e),this},t.prototype.emit=function(e){if(s.hasOwnProperty(e))return r.apply(this,arguments),this;var u=p(arguments),v={type:(this.flags.binary!==void 0?this.flags.binary:o(u))?i.BINARY_EVENT:i.EVENT,data:u};return v.options={},v.options.compress=!this.flags||this.flags.compress!==!1,typeof u[u.length-1]=="function"&&(this.acks[this.ids]=u.pop(),v.id=this.ids++),this.connected?this.packet(v):this.sendBuffer.push(v),this.flags={},this},t.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},t.prototype.onopen=function(){if(this.nsp!=="/")if(this.query){var e=c(this.query)==="object"?l.encode(this.query):this.query;this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},t.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},t.prototype.onpacket=function(e){var u=e.nsp===this.nsp,v=e.type===i.ERROR&&e.nsp==="/";if(u||v)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},t.prototype.onevent=function(e){var u=e.data||[];e.id!=null&&u.push(this.ack(e.id)),this.connected?r.apply(this,u):this.receiveBuffer.push(u)},t.prototype.ack=function(e){var u=this,v=!1;return function(){if(!v){v=!0;var d=p(arguments);u.packet({type:o(d)?i.BINARY_ACK:i.ACK,id:e,data:d})}}},t.prototype.onack=function(e){var u=this.acks[e.id];typeof u=="function"&&(u.apply(this,e.data),delete this.acks[e.id])},t.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},t.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)r.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},t.prototype.ondisconnect=function(){this.destroy(),this.onclose("io server disconnect")},t.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},t.prototype.close=t.prototype.disconnect=function(){return this.connected&&this.packet({type:i.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},t.prototype.compress=function(e){return this.flags.compress=e,this},t.prototype.binary=function(e){return this.flags.binary=e,this}},function(f,a){function n(t,c){var i=[];c=c||0;for(var h=c||0;h<t.length;h++)i[h-c]=t[h];return i}f.exports=n},function(f,a){function n(t,c,i){return t.on(c,i),{destroy:function(){t.removeListener(c,i)}}}f.exports=n},function(f,a){var n=[].slice;f.exports=function(t,c){if(typeof c=="string"&&(c=t[c]),typeof c!="function")throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return c.apply(t,i.concat(n.call(arguments)))}}},function(f,a){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}f.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var c=Math.random(),i=Math.floor(c*this.jitter*t);t=1&Math.floor(10*c)?t+i:t-i}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}])})})(ct);var te=ct.exports;const ee=Bt(te);let re=window.location.hostname,ut=window.location.port?":9000":"",ne=ut?"http":"https",oe=`${ne}://${re}${ut}`,se=ee(oe);class ie{constructor(){this.isLoggedIn=!1,this.user=null,this.user_image=null,this.cookie=null,this.cookie=Object.fromEntries(document.cookie.split("; ").map(g=>g.split("=")).map(g=>[g[0],decodeURIComponent(g[1])])),this.isLoggedIn=this.cookie.user_id&&this.cookie.user_id!=="Guest"}login(g,f){return M(this,null,function*(){let a=yield Q("login",{usr:g,pwd:f});return a?(this.isLoggedIn=!0,a):!1})}logout(){return M(this,null,function*(){yield Q("logout"),this.isLoggedIn=!1,window.location.reload()})}resetPassword(g){return M(this,null,function*(){console.log("resetting password")})}}const z=At(zt),tt=Y(new ie);z.use(G);z.use(Qt);z.provide("$auth",tt);z.provide("$call",Q);z.provide("$socket",se);G.beforeEach((x,g,f)=>M(ht,null,function*(){x.matched.some(a=>!a.meta.isLoginPage)?tt.isLoggedIn?f():f({name:"Login",query:{route:x.path}}):tt.isLoggedIn?f({name:"Home"}):f()}));z.mount("#app")});export default ae();
//# sourceMappingURL=index-BHzaOkIu.js.map
